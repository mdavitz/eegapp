<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Responsive scaling -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="logo.png" />
  <link rel="apple-touch-icon" href="logo.png" />
  
  <!-- Open Graph meta tags -->
  <meta property="og:title" content="EEG Curriculum" />
  <meta property="og:description" content="Engaging Videos &amp; Self-Assessment Tools" />
  <meta property="og:image" content="https://example.com/logo.png" />
  <meta property="og:url" content="https://example.com" />
  
  <title>EEG Curriculum</title>
  
  <style>
    /********************************************
     * THEME VARIABLES & BASE STYLES
     ********************************************/
    :root {
      --primary-color: #003366;
      --secondary-color: #00509e;
      --accent-color: #007bff;
      --bg-color: #fafafa;
      --text-color: #333;
      --info-bg: #fff;
      --border-color: #ddd;
      --header-text: #fff;
      --hover-bg: #f0f0f0;
      --shadow-color: rgba(0, 0, 0, 0.08);
      --table-header-bg: #f8f8f8;
      --dropdown-hover-bg: #f9f9f9;
      --transition-duration: 0.3s;
      --answer-bg: #e9ecef;
      --answer-hover-bg: #d6d8db;
    }
    .dark {
      --primary-color: #1a1a1a;
      --secondary-color: #333;
      --accent-color: #0099ff;
      --bg-color: #121212;
      --text-color: #eee;
      --info-bg: #1e1e1e;
      --border-color: #444;
      --header-text: #fff;
      --hover-bg: #222;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --table-header-bg: #333;
      --dropdown-hover-bg: #2a2a2a;
      --answer-bg: #333;
      --answer-hover-bg: #444;
    }
    body.large-font { font-size: 1.2em; }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: Roboto, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      transition: background var(--transition-duration), color var(--transition-duration);
      padding-bottom: 80px;
    }
    
    /********************************************
     * LOGIN MODAL (BLOCKS ACCESS UNTIL AUTHENTICATED)
     ********************************************/
    .modal {
      display: none; /* Shown only when no user is signed in */
      position: fixed;
      z-index: 10000;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background-color: #fff;
      padding: 2rem;
      border-radius: 8px;
      max-width: 400px;
      width: 90%;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .modal-content h2 {
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
    }
    .modal-content button {
      width: 100%;
      padding: 12px 16px;
      margin: 8px 0;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .modal-content button:hover {
      transform: translateY(-2px);
    }
    .google-btn {
      background-color: #4285F4;
      color: #fff;
    }
    .google-btn:hover { background-color: #3367D6; }
    .apple-btn {
      background-color: #000;
      color: #fff;
    }
    .apple-btn:hover { background-color: #333; }
    .phone-btn {
      background-color: #34A853;
      color: #fff;
    }
    .phone-btn:hover { background-color: #2c8e46; }
    /* Phone Authentication Section */
    #phoneAuthSection {
      display: none;
      margin-top: 1rem;
      text-align: left;
    }
    #phoneAuthSection input {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    
    /********************************************
     * HEADER & NAVIGATION (Original Content)
     ********************************************/
    header#header {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: rgba(0, 51, 102, 0.6);
      backdrop-filter: blur(8px);
      box-shadow: 0 2px 6px var(--shadow-color);
      transition: padding 0.3s ease, backdrop-filter 0.3s ease;
    }
    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }
    header.shrink .header-inner { padding: 0.4rem 2rem; }
    .logo {
      width: 80px;
      height: auto;
      cursor: pointer;
      transition: width 0.3s, transform 0.3s;
    }
    header.shrink .logo { width: 60px; }
    .logo:hover { transform: scale(1.05); }
    .desktop-tabs {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }
    .desktop-tabs a {
      color: var(--header-text);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease, transform 0.3s;
    }
    .desktop-tabs a:hover { color: var(--accent-color); transform: scale(1.05); }
    .mobile-tabs {
      display: none;
      align-items: center;
      position: relative;
      gap: 1rem;
    }
    .mobile-tabs a {
      text-decoration: none;
      color: var(--header-text);
      font-weight: 500;
      padding: 0.5rem 1rem;
      transition: color 0.3s, transform 0.3s;
    }
    .mobile-tabs a:hover { color: var(--accent-color); transform: scale(1.05); }
    #current-mobile-tab { cursor: pointer; }
    .mobile-dropdown {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background: var(--info-bg);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      box-shadow: 0 2px 6px var(--shadow-color);
      z-index: 2000;
      min-width: 150px;
    }
    .mobile-dropdown a {
      display: block;
      padding: 0.6rem 1rem;
      color: var(--text-color);
      text-decoration: none;
      transition: background 0.3s, transform 0.3s;
    }
    .mobile-dropdown a:hover { background: var(--hover-bg); transform: scale(1.02); }
    @media (max-width: 600px) {
      .desktop-tabs { display: none; }
      .mobile-tabs { display: flex; }
    }
    
    /* User Info (Avatar & Logout Button) */
    #user-info {
      display: none;
      align-items: center;
    }
    #user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-left: 10px;
      object-fit: cover;
    }
    #logoutBtn {
      margin-left: 10px;
      padding: 6px 10px;
      background: var(--accent-color);
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    /********************************************
     * MAIN CONTENT (Original Website Content)
     ********************************************/
    .cards-container { 
      max-width: 1200px; 
      margin: 0 auto; 
      padding: 0 1rem 2rem; 
      text-align: center; 
    }
    .cards-container h2 { 
      margin-top: 1.5rem; 
      margin-bottom: 1.5rem; 
      font-size: 2rem; 
    }
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .card {
      display: flex;
      flex-direction: column;
      background: var(--info-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
    }
    .card:hover { transform: translateY(-5px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
    .card i { 
      font-size: 3rem; 
      color: var(--accent-color); 
      margin-bottom: 1rem; 
      transition: transform 0.3s; 
    }
    .card i:hover { transform: scale(1.1); }
    .card h3 { font-size: 1.5rem; margin-bottom: 0.75rem; }
    .card p { font-size: 1rem; margin-bottom: 1rem; line-height: 1.4; }
    .card a {
      margin-top: auto;
      display: inline-block;
      padding: 0.5rem 1rem;
      background: var(--accent-color);
      color: #fff;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 500;
      transition: background 0.3s ease, transform 0.3s;
    }
    .card a:hover { background: #0056b3; transform: scale(1.05); }
    
    /* (Include additional original CSS for videos, quizzes, tables, FAQ, etc. as in your original file) */
    
    /********************************************
     * FOOTER (Original)
     ********************************************/
    footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: var(--info-bg);
      border-top: 1px solid var(--border-color);
      padding: 1em;
      text-align: center;
      z-index: 2000;
    }
  </style>
</head>
<body>
  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <h2>Please Sign In</h2>
      <button id="googleSignInBtn" class="google-btn">
        <i class="fab fa-google"></i>
        Sign in with Google
      </button>
      <button id="appleSignInBtn" class="apple-btn">
        <i class="fab fa-apple"></i>
        Sign in with Apple
      </button>
      <button id="phoneSignInBtn" class="phone-btn">
        <i class="fas fa-phone"></i>
        Sign in with Phone
      </button>
      <!-- Phone Auth Section -->
      <div id="phoneAuthSection">
        <input type="tel" id="phoneNumber" placeholder="Enter phone number (e.g., +1234567890)">
        <div id="recaptcha-container"></div>
        <input type="text" id="verificationCode" placeholder="Enter verification code">
        <button id="verifyCodeBtn" class="phone-btn">
          <i class="fas fa-check"></i>
          Verify Code
        </button>
      </div>
    </div>
  </div>
  
  <!-- HEADER -->
  <header id="header">
    <div class="header-inner">
      <!-- Logo (Home) -->
      <img src="logo.png" alt="Home" class="logo" onclick="renderHomePage()" />
      <!-- Desktop Navigation Tabs -->
      <div class="desktop-tabs" id="desktop-tabs">
        <a href="#" onclick="navigateToSection(0)">Epilepsy Rotation</a>
        <a href="#" onclick="navigateToSection(1)">Natus Instructions</a>
        <a href="#" onclick="navigateToSection(2)">ACNS Criteria</a>
        <a href="#" onclick="navigateToSection(3)">EEG Videos</a>
        <a href="#" onclick="navigateToSection(4)">FAQ</a>
      </div>
      <!-- Mobile Navigation -->
      <div class="mobile-tabs" id="mobile-tabs">
        <a href="#" id="current-mobile-tab" onclick="toggleMobileDropdown(event)">Epilepsy Rotation</a>
        <div class="mobile-dropdown" id="mobile-dropdown">
          <a href="#" onclick="renderHomePage(); hideMobileDropdown()">Home</a>
          <a href="#" onclick="navigateToSection(0)">Epilepsy Rotation</a>
          <a href="#" onclick="navigateToSection(1)">Natus Instructions</a>
          <a href="#" onclick="navigateToSection(2)">ACNS Criteria</a>
          <a href="#" onclick="navigateToSection(3)">EEG Videos</a>
          <a href="#" onclick="navigateToSection(4)">FAQ</a>
        </div>
      </div>
      <!-- User Info & Logout -->
      <div id="user-info">
        <img id="user-avatar" src="https://via.placeholder.com/40" alt="User Avatar">
        <button id="logoutBtn">Log Out</button>
      </div>
    </div>
  </header>
  
  <!-- HOMEPAGE CARDS -->
  <div id="home-content" class="cards-container" style="display: none;">
    <h2>Explore the EEG Curriculum</h2>
    <div class="cards-grid">
      <div class="card">
        <i class="fa-solid fa-brain"></i>
        <h3>Epilepsy Rotation</h3>
        <p>Delve into daily expectations with engaging videos, quizzes, and guidelines for EEG readings and milestones.</p>
        <a href="#" onclick="navigateToSection(0)">Learn More</a>
      </div>
      <div class="card">
        <i class="fa-solid fa-desktop"></i>
        <h3>Natus Instructions</h3>
        <p>Follow our step-by-step guide to launching Natus NeuroWorks, reviewing patient studies, and configuring the display.</p>
        <a href="#" onclick="navigateToSection(1)">Learn More</a>
      </div>
      <div class="card">
        <i class="fa-solid fa-file-pdf"></i>
        <h3>ACNS Criteria</h3>
        <p>Access detailed visual references and downloadable charts of ACNS guidelines to improve EEG interpretation.</p>
        <a href="#" onclick="navigateToSection(2)">Learn More</a>
      </div>
      <div class="card">
        <i class="fa-solid fa-video"></i>
        <h3>EEG Videos</h3>
        <p>Engage with interactive EEG videos accompanied by quizzes to sharpen your knowledge and interpretation skills.</p>
        <a href="#" onclick="navigateToSection(3)">Learn More</a>
      </div>
      <div class="card">
        <i class="fa-solid fa-circle-question"></i>
        <h3>FAQ</h3>
        <p>Find answers to common questions about EEG interpretation, seizure management, and epilepsy care.</p>
        <a href="#" onclick="navigateToSection(4)">Learn More</a>
      </div>
    </div>
  </div>
  
  <!-- MAIN CONTENT (All Sections: Videos, Tables, Quizzes, FAQ, etc.) -->
  <div class="container">
    <div id="section-content"></div>
  </div>
  
  <!-- FOOTER -->
  <footer id="footer">
    <div class="footer-btns">
      <button onclick="toggleFontSize()" aria-label="Toggle Font Size">
        <span style="font-size:1.4em;">A</span>/<span style="font-size:0.8em;">a</span>
      </button>
      <button onclick="toggleDarkMode()" aria-label="Toggle Dark Mode">Dark Mode</button>
    </div>
    <p>&copy; 2025 EEG Curriculum</p>
  </footer>
  
  <!-- Additional Libraries (e.g., PPTXGenJS if used) -->
  <script src="https://cdn.jsdelivr.net/npm/pptxgenjs@3.9.0/dist/pptxgen.bundle.js"></script>
  
  <!-- Firebase Initialization & Authentication Scripts -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { 
      getAuth, 
      onAuthStateChanged, 
      signInWithPopup, 
      GoogleAuthProvider, 
      OAuthProvider,
      RecaptchaVerifier,
      signInWithPhoneNumber
    } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyDhMhYzo2G0Efvj7zM0rwjJbEN4nIWZEgQ",
      authDomain: "eeg-app-6968e.firebaseapp.com",
      projectId: "eeg-app-6968e",
      storageBucket: "eeg-app-6968e.firebasestorage.app",
      messagingSenderId: "322977550023",
      appId: "1:322977550023:web:9f91e6ffd07d31c80578e2"
    };
    
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    
    // Monitor auth state and update UI
    onAuthStateChanged(auth, (user) => {
      if (user) {
        console.log("User signed in:", user);
        document.getElementById("loginModal").style.display = "none";
        document.getElementById("user-info").style.display = "flex";
        const avatar = document.getElementById("user-avatar");
        avatar.src = user.photoURL ? user.photoURL : "https://via.placeholder.com/40";
      } else {
        document.getElementById("loginModal").style.display = "flex";
        document.getElementById("user-info").style.display = "none";
      }
    });
    
    // Google Sign-In using popup
    document.getElementById("googleSignInBtn").addEventListener("click", () => {
      const provider = new GoogleAuthProvider();
      signInWithPopup(auth, provider)
        .then((result) => {
          console.log("Google sign-in successful:", result.user);
          document.getElementById("loginModal").style.display = "none";
        })
        .catch((error) => {
          console.error("Google sign-in error:", error);
          alert("Google sign-in error: " + error.message);
        });
    });
    
    // Apple Sign-In using popup
    document.getElementById("appleSignInBtn").addEventListener("click", () => {
      const provider = new OAuthProvider('apple.com');
      signInWithPopup(auth, provider)
        .then((result) => {
          console.log("Apple sign-in successful:", result.user);
          document.getElementById("loginModal").style.display = "none";
        })
        .catch((error) => {
          console.error("Apple sign-in error:", error);
          alert("Apple sign-in error: " + error.message);
        });
    });
    
    // Phone Sign-In: Show phone auth section
    document.getElementById("phoneSignInBtn").addEventListener("click", () => {
      document.getElementById("phoneAuthSection").style.display = "block";
      if (!window.recaptchaVerifier) {
        window.recaptchaVerifier = new RecaptchaVerifier('recaptcha-container', {
          size: 'invisible',
          callback: (response) => {
            console.log("reCAPTCHA solved:", response);
          }
        }, auth);
        window.recaptchaVerifier.render().then((widgetId) => {
          window.recaptchaWidgetId = widgetId;
        });
      }
    });
    
    // Phone Authentication: Send or verify code
    document.getElementById("verifyCodeBtn").addEventListener("click", () => {
      const phoneNumber = document.getElementById("phoneNumber").value;
      if (!window.confirmationResult) {
        signInWithPhoneNumber(auth, phoneNumber, window.recaptchaVerifier)
          .then((confirmationResult) => {
            window.confirmationResult = confirmationResult;
            alert("Verification code sent. Please check your phone.");
          })
          .catch((error) => {
            console.error("Phone sign-in error:", error);
            alert("Phone sign-in error: " + error.message);
          });
      } else {
        const code = document.getElementById("verificationCode").value;
        window.confirmationResult.confirm(code)
          .then((result) => {
            console.log("Phone sign-in successful:", result.user);
            document.getElementById("loginModal").style.display = "none";
          })
          .catch((error) => {
            console.error("Verification error:", error);
            alert("Verification error: " + error.message);
          });
      }
    });
    
    // Log Out button
    document.getElementById("logoutBtn").addEventListener("click", () => {
      auth.signOut().then(() => {
        console.log("User signed out.");
        document.getElementById("loginModal").style.display = "flex";
      }).catch((error) => {
        console.error("Sign out error:", error);
        alert("Sign out error: " + error.message);
      });
    });
  </script>
  
  <!-- Site Navigation & Additional Scripts (Original website scripts) -->
  <script>
    function toggleMobileDropdown(e) {
      e.preventDefault();
      const dropdown = document.getElementById("mobile-dropdown");
      dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
    }
    function hideMobileDropdown() {
      document.getElementById("mobile-dropdown").style.display = "none";
    }
    function setMobileTabLabel(label) {
      document.getElementById("current-mobile-tab").textContent = label;
    }
    function renderHomePage() {
      document.getElementById("section-content").innerHTML = "";
      document.getElementById("home-content").style.display = "block";
      setMobileTabLabel("Home");
      hideMobileDropdown();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    let currentSectionIndex = 0;
    function navigateToSection(index) {
      currentSectionIndex = index;
      document.getElementById("home-content").style.display = "none";
      renderSection();
      hideMobileDropdown();
      window.scrollTo({ top: 0, behavior: 'smooth' });
      setMobileTabLabel(sections[index].title);
    }
    
    // Original sections array with all content – replace with your complete original content as needed.
    const sections = [
      {
        title: "Epilepsy Rotation",
        type: "info",
        content: `
          <div class="info-box">
            <h2>Epilepsy Rotation</h2>
            <h3>Daily Expectations and Goals</h3>
            <table class="custom-table">
              <thead>
                <tr><th>Activity</th><th>Description</th></tr>
              </thead>
              <tbody>
                <tr><td>Watch Video</td><td>Review the designated EEG video for the day.</td></tr>
                <tr><td>Complete Quiz</td><td>Answer the quiz questions associated with the video.</td></tr>
                <tr>
                  <td>Upload EEG</td>
                  <td>
                    Submit one interesting EEG finding.
                    <a href="#" onclick="openEEGIndexApp()" class="table-link">
                      <i class="fa-solid fa-brain"></i> EEG Index
                    </a>
                  </td>
                </tr>
                <tr><td>EEG Reading</td><td>Read both routine and continuous EEGs as described below.</td></tr>
                <tr>
                  <td>Review Milestones</td>
                  <td>
                    Review your rotation expectations.
                    <a href="https://www.acgme.org/globalassets/pdfs/milestones/epilepsymilestones.pdf" target="_blank" class="table-link">
                      <i class="fa-solid fa-file-pdf"></i> Epilepsy Milestones
                    </a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="info-box">
            <h2>Rotation Schedule</h2>
            <h3>Inpatient Rotation (MSH &amp; MSW EMU)</h3>
            <table class="custom-table">
              <thead>
                <tr><th>Time</th><th>Activity</th></tr>
              </thead>
              <tbody>
                <tr><td>7-8 AM</td><td>Arrive and preround on EMU/epilepsy consult patients</td></tr>
                <tr><td>8-9 AM</td><td>Attend morning report</td></tr>
                <tr><td>9-10 AM</td><td>Read at least one LTM EEG, draft EEG reports</td></tr>
                <tr><td>10 AM-12 PM</td><td>Round with epilepsy fellow/attending</td></tr>
                <tr class="pm-workflow"><td colspan="2" style="text-align:center;">PM Workflow (~12-5pm)</td></tr>
                <tr><td>12-1 PM</td><td>Neurology noon conference</td></tr>
                <tr><td>1-5 PM</td><td>Elective admission H&amp;Ps, consults, follow-up on LTM EEG, read new inpatient EEGs</td></tr>
              </tbody>
            </table>
            <h3>Outpatient Rotation</h3>
            <table class="custom-table">
              <thead>
                <tr><th>Time</th><th>Activity</th></tr>
              </thead>
              <tbody>
                <tr><td>8-9 AM</td><td>Morning report (MSH Ambulatory EEG / Outpatient PGY-2)</td></tr>
                <tr><td>AM</td><td>Epilepsy clinic or outpatient EEG reading (self-study if no clinic)</td></tr>
                <tr><td>PM</td><td>Resident continuity clinic or faculty clinic, ambulatory EEG readings</td></tr>
                <tr><td colspan="2">MSW Outpatient (PGY-2): Similar schedule with assigned epilepsy clinics &amp; EEG readings</td></tr>
              </tbody>
            </table>
          </div>
          <div class="info-box">
            <h2>Teaching Rounds &amp; Conferences</h2>
            <p>All epilepsy conferences are currently held via Zoom (unless otherwise indicated).</p>
            <table class="custom-table responsive-table">
              <thead>
                <tr><th>Seminar</th><th>Day/Time</th><th>Location</th><th>Notes</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td data-label="Seminar">Epilepsy Surgery Conference (mandatory)</td>
                  <td data-label="Day/Time">Wed 4-5:30 PM</td>
                  <td data-label="Location">Levy Library (MSH) / Zoom</td>
                  <td data-label="Notes">Epilepsy surgery cases, comprehensive team</td>
                </tr>
                <tr>
                  <td data-label="Seminar">Teaching Rounds / Interesting EEGs (mandatory)</td>
                  <td data-label="Day/Time">Wed 1-2 PM</td>
                  <td data-label="Location">Zoom</td>
                  <td data-label="Notes">
                    1st Wed: ICU EEGs (joint with NSICU)<br/>
                    2nd &amp; 4th Wed: Faculty lecture series<br/>
                    3rd Wed: Interesting EEGs<br/>
                    5th Wed: Other topics
                  </td>
                </tr>
                <tr>
                  <td data-label="Seminar">Grand Rounds</td>
                  <td data-label="Day/Time">Fri 8-9 AM</td>
                  <td data-label="Location">Hess Center / Remote Access</td>
                  <td data-label="Notes">Neurology Grand Rounds (faculty, fellows, residents, students)</td>
                </tr>
              </tbody>
            </table>
          </div>
        `
      },
      {
        title: "Natus Instructions",
        type: "info",
        content: `
          <div class="info-box">
            <h2>Natus Instructions</h2>
            <h3>Step 1: Launch and Log In</h3>
            <p><strong>Power on the workstation</strong> and launch the Natus NeuroWorks application.<br/><strong>Log in</strong> with your secure credentials (username/password).</p>
            <img src="Step1.png" alt="Step 1 Screenshot" class="step-image" /><br/>
            <h3>Step 2: Open a Patient Study</h3>
            <p><strong>From the main dashboard</strong>, navigate to the Patient Studies list or use the search function to locate a patient record.<br/><strong>Select the desired EEG study</strong> to open it in review mode.</p>
            <img src="Step2.png" alt="Step 2 Screenshot" class="step-image" /><br/>
            <h3>Step 3: Configure the Display</h3>
            <p><strong>Select the bipolar montage</strong> titled <em>Bipolar LT over RT</em> from the montage menu.<br/><strong>Adjust the display parameters</strong> as follows:<br/>&nbsp;&nbsp;– Sensitivity: 7 μV<br/>&nbsp;&nbsp;– Time base: 30 mm/sec<br/>&nbsp;&nbsp;– High-frequency filter: 70 Hz; Low-frequency filter: 1 Hz<br/>&nbsp;&nbsp;– Additional filters if needed</p>
            <img src="Step3.png" alt="Step 3 Screenshot" class="step-image" /><br/>
            <h3>Step 4: Analyze the EEG</h3>
            <p><strong>Scroll through the recording</strong> and visually inspect the waveforms.<br/><strong>Use built-in tools</strong> to assess amplitude, frequency, and duration.<br/><strong>Identify patterns</strong> and add annotations for significant events.</p><br/>
            <h3>Step 5: Annotate and Mark Key Events</h3>
            <p><strong>Place event markers</strong> by clicking the relevant buttons at the top of the screen.</p>
            <img src="Step5.png" alt="Step 5 Screenshot" class="step-image" /><br/>
            <h3>Step 6: Create an EEG Report in Epic</h3>
            <p><strong>Once the EEG review is complete</strong>, open Epic’s reporting interface, generate a new report, and pend the note for review.</p>
          </div>
        `
      },
      {
        title: "ACNS Criteria",
        type: "info",
        content: `
          <div class="info-box">
            <h2 style="text-align:center;">ACNS Criteria</h2>
            <img src="ACNS1.png" alt="ACNS Criteria 1" class="step-image" />
            <img src="ACNS2.png" alt="ACNS Criteria 2" class="step-image" />
            <img src="ACNS3.png" alt="ACNS Criteria 3" class="step-image" />
            <img src="ACNS4.png" alt="ACNS Criteria 4" class="step-image" />
            <p style="text-align:center; margin-top:1em;">
              <strong>ACNS Criteria.</strong> ACNS Nomenclature Reference Chart.
              <a href="ACNSNomenclature2021_ReferenceChart_2020_0725ForPublicComment.pdf" target="_blank">
                <i class="fa-solid fa-link"></i> Download PDF
              </a>
            </p>
          </div>
        `
      },
      {
        title: "EEG Videos",
        type: "videoGroup",
        videoSections: [
          {
            title: "Introduction to EEG",
            video: "EEG1.mp4",
            questions: [
              {
                question: "Which of the following landmarks is NOT used for EEG electrode placement?",
                answers: [
                  { text: "Nasion", feedback: "Incorrect. The nasion is standard." },
                  { text: "Mandibular notch", feedback: "Correct. It’s not used." },
                  { text: "Inion", feedback: "Incorrect. The inion is standard." },
                  { text: "Pre-auricular point", feedback: "Incorrect. It’s standard." }
                ],
                correct: 1
              }
              // (Include additional questions as in your original file.)
            ]
          }
          // (Include additional video sections as in your original file.)
        ],
        reference: `
          <div class="curriculum-reference" style="margin-top:1em; text-align:center;">
            <p>
              <strong>Curriculum Reference:</strong> Moeller JJ, Farooque P, Leydon G, Dominguez M, Schwartz ML, Sadler RM. A video-based introductory EEG curriculum for neurology residents. <em>MedEdPORTAL</em>. 2017;13:10570.
              <a href="https://doi.org/10.15766/mep_2374-8265.10570" target="_blank">
                <i class="fa-solid fa-link"></i> Link
              </a>
            </p>
          </div>
        `
      },
      {
        title: "EEG &amp; Seizure FAQ",
        type: "info",
        content: `
          <div class="faq-section">
            <div class="legal-disclaimer">
              <p><strong>Legal Disclaimer:</strong> This FAQ section is for educational and informational purposes only and is under active revision. It does not constitute medical advice. Always consult your home institution’s guidelines and your neurology leadership or a qualified healthcare professional before making any medical decisions.</p>
            </div>
            <h2>EEG &amp; Seizure FAQs</h2>
            <div class="faq-search-bar">
              <input type="text" id="faqSearch" placeholder="Search FAQs..." oninput="filterFaq()">
            </div>
            <div id="faq-list">
              <div class="faq-category">
                <h3>Seizure &amp; EEG Fundamentals</h3>
                <details class="faq-item">
                  <summary>What is an EEG and why is it important in evaluating seizures?</summary>
                  <div class="answer">
                    <p>
                      An EEG is a noninvasive test that records the brain’s electrical activity via scalp electrodes. It detects epileptiform abnormalities—such as spikes and spike‐and‐wave discharges—which are crucial for diagnosing epilepsy.
                    </p>
                  </div>
                </details>
                <!-- (Include additional FAQ items and categories as in your original file.) -->
              </div>
            </div>
          </div>
        `
      }
    ];
    
    function renderSection() {
      const section = sections[currentSectionIndex];
      if (section.type === "info") {
        document.getElementById("section-content").innerHTML = section.content;
      } else if (section.type === "videoGroup") {
        renderVideoList();
      } else {
        document.getElementById("section-content").innerHTML = section.content;
      }
    }
    
    function renderVideoList() {
      const group = sections[currentSectionIndex];
      let html = `<div class="video-list"><h2>Select a Video Topic</h2><ul id="video-sub-list">`;
      group.videoSections.forEach((vid, i) => {
        html += `<li data-vid-index="${i}">${vid.title}</li>`;
      });
      html += `</ul></div>`;
      if (group.reference) { html += group.reference; }
      document.getElementById("section-content").innerHTML = html;
      const items = document.querySelectorAll("#video-sub-list li");
      items.forEach(item => {
        item.addEventListener("click", () => {
          currentVideoIndex = parseInt(item.getAttribute("data-vid-index"));
          currentQuestionIndex = 0;
          score = 0;
          renderVideoSection(currentVideoIndex);
        });
      });
    }
    
    // (Include your full video quiz and related functions here as per your original code.)
    
    // Show homepage on load
    document.addEventListener("DOMContentLoaded", () => {
      renderHomePage();
    });
  </script>
  
  <!-- Additional Site Scripts -->
  <script>
    // HEADER SHRINK ON SCROLL
    window.addEventListener("scroll", () => {
      const header = document.getElementById("header");
      if (window.scrollY > 100) {
        header.classList.add("shrink");
      } else {
        header.classList.remove("shrink");
      }
    });
    
    // DARK MODE & FONT SIZE FUNCTIONS
    function toggleDarkMode() { document.body.classList.toggle("dark"); }
    function toggleFontSize() { document.body.classList.toggle("large-font"); }
    
    // MOBILE TAB DROPDOWN FUNCTIONS
    function toggleMobileDropdown(e) {
      e.preventDefault();
      const dropdown = document.getElementById("mobile-dropdown");
      dropdown.style.display = (dropdown.style.display === "block") ? "none" : "block";
    }
    function hideMobileDropdown() { document.getElementById("mobile-dropdown").style.display = "none"; }
    function setMobileTabLabel(label) { document.getElementById("current-mobile-tab").textContent = label; }
  </script>
</body>
</html>